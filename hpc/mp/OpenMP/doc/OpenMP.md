# OpenMP基础
## 1.什么是OpenMP
**OpenMP(Open Multi-Processing)** 是一种用于**共享内存**并行系统的**多线程**程序设计方案。其提供了对并行算法的高层抽象描述，**通过线程实现并行化**，特别适合在**多核CPU机器**上的并行程序设计。
编译器根据程序中添加的pragma指令，自动将程序并行处理，使用OpenMP降低了并行编程的难度和复杂度。**当编译器不支持OpenMP时，程序会退化成普通（串行）程序**。程序中已有的OpenMP指令不会影响程序的正常编译运行。

## 2.OpenMP的特点
- **标准化**
  1. 在各种共享内存架构/平台之间提供一个标准。
  1. 由一组主要的计算机硬件和软件供应商联合定义和认可。
- **至精至简**
  1. 为共享内存机器建立一组简单且有限的指令。
  1. 重要的并行性可以通过使用3或4个指令来实现
- **易用性**
  1. 提供以增量方式并行化串行程序的能力，这通常需要全有或全无方法的消息传递库不同。
  1. 提供实现粗粒度和细粒度并行的能力。
- **可移植性**
  1. 支持C/C++和[FORTRAN](https://blog.csdn.net/xiaorui98/article/details/86600847)。
  1. 支持多种平台（Liunx/Unix/Windows均支持）

## 3.OpenMP和Pthread(多线程)的区别
- Pthread需要显式地明确每个线程的行为； OpenMP只需要简单的声明这块代码并行执行。
- 只要系统拥有Pthreads库，Pthreads程序就能够被任意的C编译器使用；OpenMP除了拥有OpenMP还要求编译器支持某些操作。
- Pthreads提供了虚拟地编写任何可知线程行为的能力；OpenMP用于实现并行更加简单，但是很难对底层的线程交互进行编程。

## 4.为什么要在高性能计算中使用OpenMP
- OpenMP本身并行性仅限于单个节点
- 对于高性能计算的应用程序，OpenMP于MPI相结合，可以实现分布式内存并行。也就是**混合并行编程**。
  1. OpenMP用于每个节点上的计算密集型工作。
  1. MPI用于实现节点之间的通信和数据共享。
- 可以使并行性在集群的整个范围内实现。

## 5.OpenMP与GCC版本之间的对应关系
| OpenMP版本 | GCC版本 |
| ---------- | ------- |
| OpenMP 5.0| >= GCC 9.1  |
| OpenMP 4.5| >= GCC 6.1  |
| OpenMP 4.0| >= GCC 4.9.0|
| OpenMP 3.1| >= GCC 4.7.0|
| OpenMP 3.0| >= GCC 4.4.0|
| OpenMP 2.5| >= GCC 4.2.0|