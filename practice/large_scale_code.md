# 大规模系统的代码结构
## 项目
```
项目P
  项目模块A
  通用模块B
```
* P和A在项目仓库RP，B在通用模块仓库RB

## 通用模块
1. 项目加载：不稳定期用[submodule](https://devops.wangyaqi.cn/#/soft/dev/git?id=submodule)，稳定期用库。只能二选一，否则项目的CMake和Conan很麻烦
1. 通用模块本身：同时支持两者，解决不同项目分别处于稳定期和不稳定期

## FAQ
1. submodule时部分子模块仓库没权限，没有部分仓库权限会导致所有子模块仓库下载失败：此种情况本质就是**不同的业务项目放在了一起**
    1. 项目仓库基于业务创建多个分支(加载不同的子模块仓库)
    1. 基于业务分拆成多个项目仓库(加载不同的子模块仓库)
